(function(a,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(a=typeof globalThis<"u"?globalThis:a||self,i(a.TextareaField={},a.Vue))})(this,function(a,i){"use strict";const tt=["font","fontFamily","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantLigatures","fontVariantCaps","fontVariantNumeric","fontVariantEastAsian","fontWeight","lineHeight","letterSpacing","padding","margin","textAlign","textAlignLast","textDecoration","textDecorationLine","textDecorationStyle","textDecorationColor","textDecorationSkipInk","textDecorationPosition","textIndent","textRendering","textShadow","textSizeAdjust","textOverflow","textTransform","width","wordBreak","wordSpacing","wordWrap"];function et(t){const e=document.createElement("textarea");return e.textContent=t,e.innerHTML}function A(t){return typeof t=="number"?t:!t||!t.replace?0:parseInt(t.replace(/[^\d.]+/g,""))||0}function $(t,e,n,o){t.innerHTML=et(e.value).replace(/(?:\r\n|\r|\n)/g,"<br />")+"&nbsp;";let r=Math.max(n,F(t));t.innerHTML.match(/(<br\s?\/?\>)+/)&&(r+=A(k(e,"lineHeight"))),e.style.height=(!o||r<o?r:o)+"px"}function F(t){return A(k(t,"height"))}function k(t,e){return window.getComputedStyle(t)[e]}function nt(t,e){const n=document.createElement("div"),o=window.getComputedStyle(t);return n.style.position="absolute",n.style.zIndex=-1,n.style.visibility="hidden",t.parentNode.insertBefore(n,t.nextSibling),tt.forEach(r=>n.style[r]=o[r]),n}function it(t,e,n){const o=F(t),r=nt(t),s=e.value!==!0?e.value:0;t.addEventListener("input",c=>{$(r,c.target,o,s)}),$(r,t,o,s)}const rt={mounted(t,e,n){e.value!==!1&&(it(t,e),t.resize=function(){n.context.$nextTick(()=>{t.dispatchEvent(new Event("input"))})})}};function u(t,e="px"){return t!=null&&t!==!1&&isFinite(t)?`${t}${e}`:t}const ot=i.defineComponent({props:{absolute:Boolean,center:Boolean,label:String,size:{type:String,default:"md"},registry:{type:String,default:"indicators"},type:{type:String,required:!0},height:[String,Number],maxHeight:[String,Number],minHeight:[String,Number],width:[String,Number],maxWidth:[String,Number],minWidth:[String,Number]},data:()=>({is:null}),setup(t){return{registryInstance:i.inject(t.registry||"indicators")}},computed:{classes(){return{"activity-indicator-center":this.center,"activity-indicator-absolute":this.absolute,[this.size&&`activity-indicator-${this.size}`]:!!this.size}},style(){return{width:u(this.width),maxWidth:u(this.maxWidth),minWidth:u(this.minWidth),height:u(this.height),maxHeight:u(this.maxHeight),minHeight:u(this.minHeight)}}},async mounted(){const t=await this.component();this.is=()=>t},methods:{async component(){let t=this.registryInstance.get(this.type);return t instanceof Promise?t:(typeof t=="function"&&(t=await t()),t.default?t.default:t)}}}),st=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},at={class:"activity-indicator-content"},ut={key:1,class:"activity-indicator-label"};function lt(t,e,n,o,r,s){return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(["activity-indicator",t.classes]),style:i.normalizeStyle(t.style)},[i.createElementVNode("div",at,[t.is?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(t.is()),{key:0,class:"mx-auto"})):i.createCommentVNode("",!0),t.label?(i.openBlock(),i.createElementBlock("div",ut,i.toDisplayString(t.label),1)):i.createCommentVNode("",!0)])],6)}const dt=st(ot,[["render",lt]]);var ct=Object.defineProperty,ft=(t,e,n)=>e in t?ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ht=(t,e,n)=>(ft(t,typeof e!="symbol"?e+"":e,n),n),g=function(){return g=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(this,arguments)};function pt(t){return t.toLowerCase()}var mt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],gt=/[^A-Z0-9]+/gi;function yt(t,e){e===void 0&&(e={});for(var n=e.splitRegexp,o=n===void 0?mt:n,r=e.stripRegexp,s=r===void 0?gt:r,c=e.transform,E=c===void 0?pt:c,b=e.delimiter,m=b===void 0?" ":b,v=w(w(t,o,"$1\0$2"),s,"\0"),S=0,x=v.length;v.charAt(S)==="\0";)S++;for(;v.charAt(x-1)==="\0";)x--;return v.slice(S,x).split("\0").map(E).join(m)}function w(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(o,r){return o.replace(r,n)},t)}function bt(t,e){return e===void 0&&(e={}),yt(t,g({delimiter:"."},e))}function y(t,e){return e===void 0&&(e={}),bt(t,g({delimiter:"-"},e))}class vt{constructor(e={}){ht(this,"components"),this.components=new Map,Object.entries(e).forEach(([n,o])=>{this.register(n,o)})}get(e){const n=this.components.get(e=y(e));if(n)return n;throw new Error(`"${e}" has not been registered yet!`)}register(e,n){return typeof e=="object"?(Object.entries(e).forEach(([o,r])=>{this.register(y(o),r)}),this):(this.components.set(y(e),n),this)}remove(e){return this.components.delete(y(e)),this}reset(){return this.components=new Map,this}}function Ct(t={}){return new vt(t)}Ct();const f={};function h(...t){if(!t.length)return f;const[e,n]=t;return typeof e=="string"?typeof f[e]<"u"?f[e]:n:Array.isArray(e)?e.reduce((o,r)=>Object.assign(o,{[r]:f[r]}),{}):Object.assign(f,...t)}const Et=i.defineComponent({props:{dropShadow:{type:[Boolean,String],default:void 0},dropShadowableClassPrefix:{type:String,default:"drop-shadow"},shadow:{type:[Boolean,String],default:void 0},shadowableClassPrefix:{type:String,default:"shadow"}},computed:{shadowableClass(){const t=this.dropShadow===!0?"":this.dropShadow&&`-${this.dropShadow}`,e=this.shadow===!0?"":this.shadow&&`-${this.shadow}`;return{[`${this.dropShadowableClassPrefix}${t}`]:!!this.dropShadow,[`${this.shadowableClassPrefix}${e}`]:!!this.shadow}}}});var St=typeof global=="object"&&global&&global.Object===Object&&global;const xt=St;var At=typeof self=="object"&&self&&self.Object===Object&&self,$t=xt||At||Function("return this")(),Ft=$t.Symbol;const l=Ft;var B=Object.prototype,kt=B.hasOwnProperty,wt=B.toString,p=l?l.toStringTag:void 0;function Bt(t){var e=kt.call(t,p),n=t[p];try{t[p]=void 0;var o=!0}catch{}var r=wt.call(t);return o&&(e?t[p]=n:delete t[p]),r}var Dt=Object.prototype,jt=Dt.toString;function zt(t){return jt.call(t)}var Ot="[object Null]",Tt="[object Undefined]",D=l?l.toStringTag:void 0;function Nt(t){return t==null?t===void 0?Tt:Ot:D&&D in Object(t)?Bt(t):zt(t)}function Lt(t){return t!=null&&typeof t=="object"}var It="[object Symbol]";function Ht(t){return typeof t=="symbol"||Lt(t)&&Nt(t)==It}function Vt(t,e){for(var n=-1,o=t==null?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}var Mt=Array.isArray;const Rt=Mt;var Zt=1/0,j=l?l.prototype:void 0,z=j?j.toString:void 0;function O(t){if(typeof t=="string")return t;if(Rt(t))return Vt(t,O)+"";if(Ht(t))return z?z.call(t):"";var e=t+"";return e=="0"&&1/t==-Zt?"-0":e}function T(t){return t==null?"":O(t)}function Pt(t,e,n,o){var r=-1,s=t==null?0:t.length;for(o&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function Ut(t){return function(e){return t==null?void 0:t[e]}}var Wt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Gt=Ut(Wt);const _t=Gt;var qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt="\\u0300-\\u036f",Jt="\\ufe20-\\ufe2f",Kt="\\u20d0-\\u20ff",Qt=Yt+Jt+Kt,Xt="["+Qt+"]",te=RegExp(Xt,"g");function ee(t){return t=T(t),t&&t.replace(qt,_t).replace(te,"")}var ne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ie(t){return t.match(ne)||[]}var re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function oe(t){return re.test(t)}var N="\\ud800-\\udfff",se="\\u0300-\\u036f",ae="\\ufe20-\\ufe2f",ue="\\u20d0-\\u20ff",le=se+ae+ue,L="\\u2700-\\u27bf",I="a-z\\xdf-\\xf6\\xf8-\\xff",de="\\xac\\xb1\\xd7\\xf7",ce="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fe="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",H="A-Z\\xc0-\\xd6\\xd8-\\xde",pe="\\ufe0e\\ufe0f",V=de+ce+fe+he,M="['\u2019]",R="["+V+"]",me="["+le+"]",Z="\\d+",ge="["+L+"]",P="["+I+"]",U="[^"+N+V+Z+L+I+H+"]",ye="\\ud83c[\\udffb-\\udfff]",be="(?:"+me+"|"+ye+")",ve="[^"+N+"]",W="(?:\\ud83c[\\udde6-\\uddff]){2}",G="[\\ud800-\\udbff][\\udc00-\\udfff]",d="["+H+"]",Ce="\\u200d",_="(?:"+P+"|"+U+")",Ee="(?:"+d+"|"+U+")",q="(?:"+M+"(?:d|ll|m|re|s|t|ve))?",Y="(?:"+M+"(?:D|LL|M|RE|S|T|VE))?",J=be+"?",K="["+pe+"]?",Se="(?:"+Ce+"(?:"+[ve,W,G].join("|")+")"+K+J+")*",xe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ae="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$e=K+J+Se,Fe="(?:"+[ge,W,G].join("|")+")"+$e,ke=RegExp([d+"?"+P+"+"+q+"(?="+[R,d,"$"].join("|")+")",Ee+"+"+Y+"(?="+[R,d+_,"$"].join("|")+")",d+"?"+_+"+"+q,d+"+"+Y,Ae,xe,Z,Fe].join("|"),"g");function we(t){return t.match(ke)||[]}function Be(t,e,n){return t=T(t),e=n?void 0:e,e===void 0?oe(t)?we(t):ie(t):t.match(e)||[]}var De="['\u2019]",je=RegExp(De,"g");function ze(t){return function(e){return Pt(Be(ee(e).replace(je,"")),t,"")}}var Oe=ze(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});const Q=Oe;function C(t,e,n="-"){const o=String(e).replace(new RegExp(`^${t}${n}?`),"");return[Q(o),t].filter(r=>!!r).join(n)}function X(t){return!Array.isArray(t)&&typeof t=="object"}function Te(t){return t===void 0}const Ne=i.defineComponent({directives:{bindEvents:{beforeMount(t,e){var n,o;(o=(n=e.instance)==null?void 0:n.bindEvents)==null||o.call(n,t)}}},mixins:[Et],inheritAttrs:!1,props:{activity:{type:Boolean,default:!1},animated:{type:Boolean,default:()=>h("animated",!1)},nativeEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},defaultControlClass:{type:String,default:()=>h("defaultControlClass","form-control")},error:{type:[String,Array,Boolean],default:void 0},errors:{type:[Array,Object,Boolean],default(){return{}}},feedback:{type:[String,Array],default:void 0},group:{type:Boolean,default:()=>h("group",!0)},helpText:{type:[Number,String],default:void 0},hideLabel:Boolean,indicator:{type:[String,Boolean],default:()=>h("indicator","spinner")},indicatorSize:{type:String,default:void 0},inline:Boolean,invalid:Boolean,label:{type:[Number,String],default:void 0},labelClass:{type:[Object,String],default:()=>h("labelClass","form-label")},modelValue:{default:void 0},pill:Boolean,plaintext:Boolean,size:{type:String,default:void 0},spacing:{type:String,default:void 0},valid:Boolean},data(){return{defaultEmpty:!1,hasChanged:!1,hasFocus:!1,isEmpty:!0}},computed:{id(){return this.$attrs.id||this.$attrs.name||(Math.random()+1).toString(36).substring(7)},componentName(){return this.$options.name},controlAttributes(){return Object.fromEntries(Object.entries(this.$attrs).concat([["id",this.id],["class",this.controlClasses]]))},controlClass(){return this.defaultControlClass},controlSizeClass(){return C(this.size,this.controlClass)},formGroupClasses(){return Object.assign({[this.size&&C(this.size,this.componentName)]:!!this.size,animated:this.animated,"default-empty":this.defaultEmpty,"form-group":this.group,[this.size&&C(this.size,"form-group")]:!!this.size,"has-activity":this.activity,"has-changed":this.hasChanged,"has-focus":this.hasFocus,"has-icon":!!this.$slots.icon,"is-empty":this.isEmpty,"is-invalid":!!(this.invalid||this.invalidFeedback),"is-valid":!!(this.valid||this.validFeedback),[this.$attrs.class]:!!this.$attrs.class,[this.$attrs.id]:!!this.$attrs.id},!!this.componentName&&{[Q(this.componentName)]:!0})},controlClasses(){return Object.assign({[this.controlClass]:!!this.controlClass,[this.controlSizeClass]:!!this.controlSizeClass,"form-control-icon":!!this.$slots.icon,"is-valid":!!(this.valid||this.validFeedback),"is-invalid":!!(this.invalid||this.invalidFeedback),[this.pillClasses]:this.pill,[this.plaintextClass]:this.plaintext,[this.spacing]:!!this.spacing},this.shadowableClass)},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){if(this.error==="")return null;if(this.error)return this.error;const t=this.getFieldErrors();return Array.isArray(t)?t.filter(e=>e&&typeof e=="string").join("<br>"):t},pillClasses(){return"rounded rounded-pill"},plaintextClass(){return"form-control-plaintext"},validFeedback(){return Array.isArray(this.feedback)?this.feedback.join("<br>"):this.feedback}},watch:{hasFocus(){this.shouldChangeOnFocus()&&(this.hasChanged=!0)},defaultEmpty(){this.hasChanged=!0}},methods:{bindEvents(t,e){var n;e||(e=this.onInput);const o=t instanceof HTMLSelectElement?(n=t.querySelectorAll("option"))==null?void 0:n[t.selectedIndex]:null;Te(this.modelValue)?o&&(t.value=o==null?void 0:o.value):t.value=this.modelValue,t.value&&e(t.value),this.hasChanged=!!t.value,this.isEmpty=!t.value,t.addEventListener("focus",()=>{this.hasFocus=!0}),t.addEventListener("blur",()=>{this.hasFocus=!1}),t.addEventListener("input",()=>{this.isEmpty=!1,this.hasChanged=!0}),t.addEventListener(t.tagName==="SELECT"?"change":"input",()=>e(t.value)),this.nativeEvents.forEach(r=>{t.addEventListener(r,s=>{this.$emit(r,s)})})},blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let t=this.error||this.errors;return this.errors&&X(this.errors)&&(t=this.errors[this.$attrs.name||this.$attrs.id]),!t||Array.isArray(t)||X(t)?t:[t]},shouldChangeOnFocus(){return!this.getInputField().readOnly},onInput(t){this.$emit("update:modelValue",t)}}}),We="",Le=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n},Ie=i.defineComponent({name:"TextareaField",directives:{Autogrow:rt},components:{ActivityIndicator:dt},mixins:[Ne],props:{autogrow:[Number,String,Boolean]},data(){return{currentValue:this.value}}}),He=["for","innerHTML"],Ve={class:"form-group-inner"},Me=["innerHTML"],Re=["innerHTML"];function Ze(t,e,n,o,r,s){const c=i.resolveComponent("activity-indicator"),E=i.resolveDirective("autogrow"),b=i.resolveDirective("bind-events");return i.openBlock(),i.createElementBlock("div",{class:i.normalizeClass(t.formGroupClasses)},[i.renderSlot(t.$slots,"label",{},()=>[t.label||t.$attrs.placeholder?(i.openBlock(),i.createElementBlock("label",{key:0,ref:"label",for:t.id,class:i.normalizeClass(t.labelClass),onClick:e[0]||(e[0]=(...m)=>t.focus&&t.focus(...m)),innerHTML:t.label||t.$attrs.placeholder},null,10,He)):i.createCommentVNode("",!0)]),i.createElementVNode("div",Ve,[i.renderSlot(t.$slots,"control",{bindEvents:t.bindEvents,controlAttributes:t.controlAttributes,focus:t.focus},()=>[t.$slots.icon?(i.openBlock(),i.createElementBlock("div",{key:0,class:"form-group-inner-icon",onClick:e[1]||(e[1]=(...m)=>t.focus&&t.focus(...m))},[i.renderSlot(t.$slots,"icon")])):i.createCommentVNode("",!0),i.withDirectives(i.createElementVNode("textarea",i.mergeProps({ref:"field"},t.controlAttributes),null,16),[[E,t.autogrow],[b]])]),i.renderSlot(t.$slots,"activity",{},()=>[i.createVNode(i.Transition,{name:"textarea-field-fade"},{default:i.withCtx(()=>[t.activity?(i.openBlock(),i.createBlock(c,{key:"activity",ref:"activity",type:t.indicator,size:t.indicatorSize||t.size},null,8,["type","size"])):i.createCommentVNode("",!0)]),_:1})])]),i.renderSlot(t.$slots,"feedback",{},()=>[t.invalidFeedback?(i.openBlock(),i.createElementBlock("div",{key:0,class:"invalid-feedback",invalid:"",innerHTML:t.invalidFeedback},null,8,Me)):t.validFeedback?(i.openBlock(),i.createElementBlock("div",{key:1,class:"valid-feedback",valid:"",innerHTML:t.validFeedback},null,8,Re)):i.createCommentVNode("",!0)]),i.renderSlot(t.$slots,"help",{},()=>[t.helpText?(i.openBlock(),i.createElementBlock("small",{key:0,ref:"help"},i.toDisplayString(t.helpText),513)):i.createCommentVNode("",!0)])],2)}const Pe=Le(Ie,[["render",Ze]]);a.TextareaField=Pe,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=textarea-field.umd.cjs.map
